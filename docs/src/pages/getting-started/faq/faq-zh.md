# å¸¸è§é—®é¢˜è§£ç­”

<p class="description">æ‚¨åœ¨ä¸€ä¸ªç‰¹å®šçš„é—®é¢˜ä¸Šåœæ»ä¸å‰å—ï¼Ÿ æ‚¨å¯ä»¥å…ˆåœ¨å¸¸è§ FAQï¼ˆé—®é¢˜è§£ç­”ï¼‰ä¸­æ£€ç´¢ä¸€ä¸‹å¸¸è§é—®é¢˜ã€‚</p>

å¦‚æœä»ç„¶æ‰¾ä¸åˆ°æ‰€éœ€çš„å†…å®¹ï¼Œæ‚¨å¯ä»¥å‚è€ƒæˆ‘ä»¬çš„ [æ”¯æŒé¡µé¢](/getting-started/support/) ã€‚

## MUI is awesome. æˆ‘è¯¥å¦‚ä½•æ”¯æŒè¯¥é¡¹ç›®ï¼Ÿ

There are many ways to support MUI:

- **å£å£ç›¸ä¼ **ã€‚ Evangelize MUI by [linking to mui.com](https://mui.com/) on your website, every backlink matters. åœ¨ [Twitter ä¸Šå…³æ³¨æˆ‘ä»¬](https://twitter.com/MaterialUI) ï¼Œç‚¹èµå¹¶è½¬å‘ä¸€äº›é‡è¦çš„æ–°é—»ã€‚ æˆ–è€…åªæ˜¯ä¸æ‚¨çš„æœ‹å‹è°ˆè®ºæˆ‘ä»¬ã€‚
- **ç»™æˆ‘ä»¬åé¦ˆ** ã€‚ å‘Šè¯‰æˆ‘ä»¬ä¸€äº›åšå¾—å¥½çš„åœ°æ–¹æˆ–è€…å¯ä»¥æ”¹è¿›çš„åœ°æ–¹ã€‚ è¯·ç»™æ‚¨æœ€å¸Œæœ›çœ‹åˆ°èƒ½å¤Ÿè§£å†³çš„é—®é¢˜æŠ•ç¥¨ï¼ˆğŸ‘ï¼‰ã€‚
- **å¸®åŠ©æ–°çš„ç”¨æˆ·** ã€‚ You can answer questions on [StackOverflow](https://stackoverflow.com/questions/tagged/mui).
- **åšå‡ºä¸€äº›æ”¹å˜å§**ã€‚
  - ç¼–è¾‘æ–‡æ¡£ã€‚ æ¯ä¸ªé¡µé¢å³ä¸Šè§’éƒ½æœ‰ä¸€ä¸ªâ€œç¼–è¾‘æ­¤é¡µé¢â€çš„é“¾æ¥ã€‚
  - é€šè¿‡ [åˆ›å»ºä¸€ä¸ªé—®é¢˜](https://github.com/mui-org/material-ui/issues/new) æ¥æŠ¥å‘Šé”™è¯¯æˆ–ç¼ºå°‘çš„åŠŸèƒ½ ã€‚
  - æŸ¥çœ‹å’Œè¯„è®ºä¸€äº›ç°æœ‰çš„ [pull requests](https://github.com/mui-org/material-ui/pulls) å’Œ [issues](https://github.com/mui-org/material-ui/issues)ã€‚
  - å¸®åŠ©æˆ‘ä»¬ [ç¿»è¯‘](https://translate.mui.com) æ–‡æ¡£ã€‚
  - [æ”¹è¿›æˆ‘ä»¬çš„æ–‡æ¡£](https://github.com/mui-org/material-ui/tree/next/docs)ï¼Œä¿®å¤é”™è¯¯ï¼Œæˆ–è€…é€šè¿‡ [æ‹‰å–è¯·æ±‚](https://github.com/mui-org/material-ui/pulls) æ¥æ·»åŠ åŠŸèƒ½ã€‚
- **Support us financially on [OpenCollective](https://opencollective.com/mui)**. If you use MUI in a commercial project and would like to support its continued development by becoming a Sponsor, or in a side or hobby project and would like to become a Backer, you can do so through OpenCollective. All funds donated are managed transparently, and Sponsors receive recognition in the README and on the MUI home page.

## ä¸ºä»€ä¹ˆæˆ‘çš„ç»„ä»¶åœ¨ç”Ÿäº§æ„é€ ä¸­æ²¡æœ‰æ­£ç¡®åœ°æ¸²æŸ“ï¼Ÿ

å‘ç”Ÿè¿™ç§æƒ…å†µçš„é¦–è¦åŸå› ï¼Œå¾ˆæœ‰å¯èƒ½æ˜¯æ‚¨çš„ä»£ç åœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„æ†ç»‘åŒ…ä¸­å‡ºç°äº†ç±»åå†²çªã€‚ For MUI to work, the `className` values of all components on a page must be generated by a single instance of the [class name generator](/styles/advanced/#class-names).

è¦çº æ­£è¿™ä¸ªé—®é¢˜ï¼Œæ‚¨éœ€è¦å¯¹é¡µé¢ä¸Šçš„æ‰€æœ‰ç»„ä»¶è¿›è¡Œåˆå§‹åŒ–ï¼Œä½¿å®ƒä»¬ä¹‹é—´æ°¸è¿œåªæœ‰**ä¸€ä¸ªç±»åç”Ÿæˆå™¨**ã€‚

åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæ‚¨å¯èƒ½æœ€ç»ˆä¼šæ„å¤–åœ°ä½¿ç”¨ä¸¤ä¸ªç±»åç”Ÿæˆå™¨ï¼š

- You accidentally **bundle** two versions of MUI. You might have a dependency not correctly setting MUI as a peer dependency.
- å¯¹äºä½ çš„ React æ ‘æ§ä»¶è€Œè¨€ï¼Œä½ åœ¨ä½¿ç”¨ `JssProvider` æ„å»ºä¸€ä¸ª **subjectï¼ˆåˆ†æ”¯ï¼‰**ã€‚
- æ‚¨æ­£åœ¨ä½¿ç”¨æ‰“åŒ…æ ¹æ®ï¼Œè€Œå®ƒæ‹†åˆ†ä»£ç çš„æ–¹å¼å¯¼è‡´åˆ›å»ºäº†å¤šä¸ªç±»åç”Ÿæˆå™¨çš„å®ä¾‹ã€‚

> å¦‚æœä½ æ­£ä½¿ç”¨çš„ webpack å¸¦æœ‰ [SplitChunksPlugin](https://webpack.js.org/plugins/split-chunks-plugin/) æ’ä»¶ ï¼Œè¯·å°è¯•åœ¨è®¾ç½®é‡Œçš„ [`optimizations` ä¸‹é…ç½® `runtimeChunk`](https://webpack.js.org/configuration/optimization/#optimization-runtimechunk) ã€‚

Overall, it's simple to recover from this problem by wrapping each MUI application with [`StylesProvider`](/styles/api/#stylesprovider) components at the top of their component trees **and using a single class name generator shared among them**.

## ä¸ºä»€ä¹ˆå½“æ‰“å¼€ä¸€ä¸ª Modalï¼ˆæ¨¡æ€æ¡†ï¼‰æ—¶ï¼Œä½ç½®å›ºå®šçš„å…ƒç´ ä¼šç§»åŠ¨ï¼Ÿ

å½“æ¨¡æ€æ¡†æ‰“å¼€çš„é‚£ä¸€åˆ¹é‚£ï¼Œæ»šåŠ¨è¡Œä¸ºå°±ä¼šè¢«ç¦æ­¢ã€‚ è¿™æ ·å°±èƒ½å¤Ÿé˜»æ­¢ç”¨æˆ·ä¸ä¸‹å±‚èƒŒæ™¯å†…å®¹è¿›è¡Œäº¤äº’ï¼Œè€Œæ¨¡æ€æ¡†åº”è¯¥æ˜¯å”¯ä¸€çš„äº¤äº’å†…å®¹ã€‚ ç„¶è€Œï¼Œç§»é™¤æ»šåŠ¨æ¡ä¼šç§»åŠ¨ä¸€äº›**å›ºå®šä½ç½®çš„å…ƒç´ **ã€‚ In this situation, you can apply a global `.mui-fixed` class name to tell MUI to handle those elements.

## å¦‚ä½•åœ¨å…¨å±€ç¦ç”¨ ripple effectï¼ˆæ¶Ÿæ¼ªæ•ˆæœï¼‰ï¼Ÿ

æ¶Ÿæ¼ªæ•ˆæœå®Œå…¨æ¥è‡ª `BaseButton` ç»„ä»¶ã€‚ æ‚¨å¯ä»¥é€šè¿‡åœ¨æ‚¨çš„ä¸»é¢˜ä¸­æä¾›ä»¥ä¸‹å†…å®¹ï¼Œæ¥å…¨å±€åœ°ç¦ç”¨æ¶Ÿæ¼ªæ•ˆæœï¼š

```js
import { createTheme } from '@mui/material';

const theme = createTheme({
  components: {
    // Name of the component âš›ï¸
    MuiButtonBase: {
      defaultProps: {
        // The props to apply
        disableRipple: true, // No more ripple, on the whole application ğŸ’£!
      },
    },
  },
});
```

## å¦‚ä½•ç¦ç”¨å…¨å±€è¿‡æ¸¡åŠ¨ç”»ï¼Ÿ

MUI uses the same theme helper for creating all its transitions. å› æ­¤ï¼Œæ‚¨å¯ä»¥é€šè¿‡è¦†ç›–ä¸»é¢˜åŠ©æ‰‹æ¥ç¦ç”¨æ‰€æœ‰çš„è¿‡æ¸¡ï¼š

```js
import { createTheme } from '@mui/material';

const theme = createTheme({
  transitions: {
    // So we have `transition: none;` everywhere
    create: () => 'none',
  },
});
```

è€Œåœ¨è§†è§‰æµ‹è¯•è¿‡ç¨‹ï¼Œæˆ–è€…åœ¨ä½ç«¯è®¾å¤‡ä¸Šæé«˜æ€§èƒ½çš„æ—¶å€™ï¼Œç¦ç”¨è¿‡æ¸¡åŠ¨ç”»æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚

æ‚¨å¯ä»¥æ›´è¿›ä¸€æ­¥åœ°ç¦ç”¨æ‰€æœ‰çš„è¿‡æ¸¡å’ŒåŠ¨ç”»æ•ˆæœã€‚

```js
import { createTheme } from '@mui/material';

const theme = createTheme({
  components: {
    // Name of the component âš›ï¸
    MuiCssBaseline: {
      styleOverrides: {
        '*, *::before, *::after': {
          transition: 'none !important',
          animation: 'none !important',
        },
      },
    },
  },
});
```

è¯·æ³¨æ„ï¼Œè‹¥æƒ³ä½¿ç”¨ä¸Šè¿°æ–¹æ³•ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨ `CssBaseline` ä½¿å…¶å¥æ•ˆã€‚ å¦‚æœæ‚¨é€‰æ‹©ä¸ä½¿ç”¨å®ƒï¼Œæ‚¨ä»ç„¶å¯ä»¥é€šè¿‡åŠ å…¥è¿™äº› CSS è§„åˆ™æ¥ç¦ç”¨è¿‡æ¸¡å’ŒåŠ¨ç”»ï¼š

```css
*,
*::before,
*::after {
  transition: 'none !important';
  animation: 'none !important';
}
```

## Do I have to use emotion to style my app?

ä¸ç”¨çš„ï¼ŒJSS ä¸æ˜¯ä¸€ä¸ªå¿…é¡»é€‰æ‹©ã€‚ But if you are using the default styled engine (`@mui/styled-engine`) the emotion dependency comes built in, so carries no additional bundle size overhead.

Perhaps, however, you're adding some MUI components to an app that already uses another styling solution, or are already familiar with a different API, and don't want to learn a new one? In that case, head over to the [Style Library Interoperability](/guides/interoperability/) section, where we show how simple it is to restyle MUI components with alternative style libraries.

## æˆ‘åº”è¯¥ä½•æ—¶ä½¿ç”¨å†…è”æ ·å¼ä¸ CSSï¼Ÿ

As a rule of thumb, only use inline-styles for dynamic style properties. CSS çš„æ›¿ä»£æ–¹æ¡ˆä¹Ÿæœ‰è¯¸å¤šä¼˜åŠ¿ï¼Œä¾‹å¦‚ï¼š

- è‡ªåŠ¨å‰ç¼€
- æ›´å¥½åœ°è°ƒè¯•
- åª’ä½“æŸ¥è¯¢
- keyframes

## æˆ‘åº”è¯¥æ€ä¹ˆä½¿ç”¨ react-routerï¼Ÿ

åœ¨æˆ‘ä»¬çš„æŒ‡å—ä¸­è¯¦ç»†ä»‹ç»äº†å¦‚ä½•ä¸ react-routerã€Gatsby æˆ– Next.js è¿™æ ·çš„ [ç¬¬ä¸‰æ–¹è·¯ç”±åº“](/guides/routing/) æ•´åˆã€‚

## æˆ‘åº”è¯¥æ€ä¹ˆè®¿é—® DOM å…ƒç´ ï¼Ÿ

All MUI components that should render something in the DOM forward their ref to the underlying DOM component. This means that you can get DOM elements by reading the ref attached to MUI components:

```jsx
// æˆ–è€…ä½¿ç”¨ä¸€ä¸ª ref setter å‡½æ•°
const ref = React.createRef();
// æ¸²æŸ“
<Button ref={ref} />;
// ä½¿ç”¨
const element = ref.current;
```

If you're not sure if the MUI component in question forwards its ref you can check the API documentation under "Props" e.g. the [Button API](/api/button/#props) includes

> ref ä¼šè¢«è½¬å‘åˆ°æ ¹å…ƒç´ ã€‚

è¿™å°±è¡¨æ˜æ‚¨å¯ä»¥ä½¿ç”¨ä¸€ä¸ª ref æ¥è®¿é—®è¿™ä¸ª DOM å…ƒç´ ã€‚

## æˆ‘çš„é¡µé¢ä¸Šæœ‰å¤šä¸ªæ ·å¼å®ä¾‹ã€‚

If you are seeing a warning message in the console like the one below, you probably have several instances of `@mui/styles` initialized on the page.

> It looks like there are several instances of `@mui/styles` initialized in this application. è¿™å¯èƒ½ä¼šå¯¼è‡´ä¸»é¢˜ä¼ æ’­é—®é¢˜ã€ç±»åç§°æŸåã€ä¸“ä¸€æ€§é—®é¢˜ï¼Œå¹¶ä½¿ä½ çš„åº”ç”¨ç¨‹åºå°ºå¯¸æ— ç«¯å˜å¤§ã€‚

### å¯èƒ½çš„åŸå› 

å‡ºç°è¿™äº›é—®é¢˜é€šå¸¸æœ‰å‡ ä¸ªå¸¸è§çš„åŸå› ï¼š

- You have another `@mui/styles` library somewhere in your dependencies.
- You have a monorepo structure for your project (e.g, lerna, yarn workspaces) and `@mui/styles` module is a dependency in more than one package (this one is more or less the same as the previous one).
- You have several applications that are using `@mui/styles` running on the same page (e.g., several entry points in webpack are loaded on the same page).

### åœ¨ node_modules ä¸­é‡å¤çš„æ¨¡å—

If you think that the issue may be in the duplication of the @mui/styles module somewhere in your dependencies, there are several ways to check this. You can use `npm ls @mui/styles`, `yarn list @mui/styles` or `find -L ./node_modules | grep /@mui/styles/package.json` commands in your application folder.

If none of these commands identified the duplication, try analyzing your bundle for multiple instances of @mui/styles. æ‚¨å¯ä»¥ç›´æ¥å»æ£€æŸ¥æ†ç»‘åŒ…çš„æºä»£ç ï¼Œæˆ–è€…ä½¿ç”¨ [source-map-explorer](https://github.com/danvk/source-map-explorer) æˆ– [webpack-bundle-analyzer](https://github.com/webpack-contrib/webpack-bundle-analyzer) è¿™æ ·çš„å·¥å…·æ¥å¸®åŠ©æ£€æŸ¥ã€‚

å¦‚æœæ‚¨ç¡®å®šå½“å‰é‡åˆ°çš„é—®é¢˜æ˜¯æ¨¡å—é‡å¤ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥å°è¯•è¿™æ ·è§£å†³ï¼š

å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨çš„æ˜¯ npmï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥å°è¯•è¿è¡Œ `npm dedupe` å‘½ä»¤ã€‚ è¿™æ¡å‘½ä»¤å°†ä¼šæœç´¢æœ¬åœ°çš„ä¾èµ–å…³ç³»ï¼Œå¹¶è¯•å›¾é€šè¿‡å°†å…±åŒçš„ä¾èµ–åŒ…ç§»åˆ°æ ‘çš„æ›´ä¸Šå±‚ï¼Œè¿™æ ·æ¥ç®€åŒ–ç»“æ„ã€‚

If you are using webpack, you can change the way it will [resolve](https://webpack.js.org/configuration/resolve/#resolve-modules) the @mui/styles module. æ‚¨å¯ä»¥ä½¿ç”¨è¦†ç›– webpack æŸ¥æ‰¾ä¾èµ–é¡¹çš„é»˜è®¤é¡ºåºè¿™ä¸ªæ–¹æ³•ï¼Œè¿™æ ·åº”ç”¨ç¨‹åºä¸­çš„ node_modules æ¯”é»˜è®¤çš„ node module è§£æé¡ºåºæ›´ä¼˜å…ˆåœ°è¿›è¡Œæ¸²æŸ“ã€‚

```diff
  resolve: {
+   alias: {
+     "@mui/styles": path.resolve(appFolder, "node_modules", "@mui/styles"),
+   }
  }
```

### ä¸ Lerna ä¸€èµ·ä½¿ç”¨

One possible fix to get @mui/styles to run in a Lerna monorepo across packages is to [hoist](https://github.com/lerna/lerna/blob/HEAD/doc/hoist.md) shared dependencies to the root of your monorepo file. æ‚¨å¯ä»¥å°è¯•ä½¿ç”¨ --hoist æ ‡è¯†è¿è¡Œå¼•å¯¼çš„é€‰é¡¹ã€‚

```sh
lerna bootstrap --hoist
```

Alternatively, you can remove @mui/styles from your package.json file and hoist it manually to your top-level package.json file.

Lerna æ ¹ç›®å½•ä¸‹çš„ package.json æ–‡ä»¶ç¤ºä¾‹ï¼š

```json
{
  "name": "my-monorepo",
  "devDependencies": {
    "lerna": "latest"
  },
  "dependencies": {
    "@mui/styles": "^4.0.0"
  },
  "scripts": {
    "bootstrap": "lerna bootstrap",
    "clean": "lerna clean",
    "start": "lerna run start",
    "build": "lerna run build"
  }
}
```

### åœ¨ä¸€ä¸ªé¡µé¢ä¸Šè¿è¡Œå¤šä¸ªåº”ç”¨ç¨‹åº

If you have several applications running on one page, consider using one @mui/styles module for all of them. If you are using webpack, you can use [CommonsChunkPlugin](https://webpack.js.org/plugins/commons-chunk-plugin/) to create an explicit [vendor chunk](https://webpack.js.org/plugins/commons-chunk-plugin/#explicit-vendor-chunk), that will contain the @mui/styles module:

```diff
  module.exports = {
    entry: {
+     vendor: ["@mui/styles"],
      app1: "./src/app.1.js",
      app2: "./src/app.2.js",
    },
    plugins: [
+     new webpack.optimize.CommonsChunkPlugin({
+       name: "vendor",
+       minChunks: Infinity,
+     }),
    ]
  }
```

## æˆ‘çš„åº”ç”¨æ²¡æœ‰åœ¨æœåŠ¡å™¨ä¸Šæ­£ç¡®çš„æ¸²æŸ“ã€‚

å¦‚æœæ‚¨çš„ç¨‹åºæ¸²æŸ“ä¸æ­£å¸¸ï¼Œ99% çš„æƒ…å†µä¸‹éƒ½æ˜¯é…ç½®é—®é¢˜ï¼š ç¼ºå°‘å±æ€§ã€è°ƒç”¨é¡ºåºé”™è¯¯æˆ–ç¼ºå°‘ç»„ä»¶ - æœåŠ¡å™¨ç«¯æ¸²æŸ“å¯¹é…ç½®æœ‰ä¸¥æ ¼è¦æ±‚ã€‚

æ‰¾å‡ºæ‰€åœ¨é—®é¢˜çš„æœ€ä½³æ–¹æ³•æ˜¯å°†ä½ çš„é¡¹ç›®ä¸ **å·²ç»åœ¨æ­£å¸¸å·¥ä½œçš„è®¾ç½®** è¿›è¡Œæ¯”è¾ƒã€‚ è¯·é€ä½æŸ¥çœ‹ [å‚è€ƒå®ç°](/guides/server-rendering/#reference-implementations)ã€‚

### CSS ä»…åœ¨ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ç”Ÿæ•ˆï¼Œç„¶åå°±æ¶ˆå¤±äº†

CSS åªåœ¨é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½æ—¶ç”Ÿæˆã€‚ é‚£ä¹ˆï¼Œè‹¥è¿ç»­åœ°è¯·æ±‚æœåŠ¡å™¨ï¼Œå°±ä¼šå¯¼è‡´ CSS çš„ä¸¢å¤±ã€‚

#### è¦è¿è¡Œçš„æ“ä½œ

æ ·å¼è§£å†³æ–¹æ¡ˆä¾èµ–äºç¼“å­˜ï¼Œå³ _sheets manager_ï¼Œæ¥ä¸ºæ¯ä¸ªç»„ä»¶ç±»åªæ³¨å…¥ä¸€æ¬¡ CSSï¼ˆå¦‚æœæ‚¨ä½¿ç”¨äº†ä¸¤ä¸ªæŒ‰é’®ï¼Œåˆ™åªéœ€è¦åº”ç”¨ä¸€æ¬¡æŒ‰é’®çš„ CSSï¼‰ã€‚ æ‚¨éœ€è¦ä¸ºæ¯ä¸ªè¯·æ±‚åˆ›å»º **ä¸€ä¸ªæ–°çš„ `sheet` å®ä¾‹**ã€‚

ä¿®å¤ç¤ºä¾‹ï¼š

```diff
-// åˆ›å»ºä¸€ä¸ª sheets å®ä¾‹

-const sheets = new ServerStyleSheets();

function handleRender(req, res) {
+ // åˆ›å»ºä¸€ä¸ª sheets å®ä¾‹ã€‚
+ const sheets = new ServerStyleSheets();

  //â€¦

  // å°†ç»„ä»¶æ¸²æŸ“ä¸ºå­—ç¬¦ä¸²ã€‚
  const html = ReactDOMServer.renderToString(
```

### React ç±»åæ¸²æŸ“ä¸åŒ¹é…

> Warning: Prop className did not match.

æ‚¨ä¼šé‡åˆ°å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´å­˜åœ¨ç±»åä¸åŒ¹é…çš„æƒ…å†µã€‚ å¯èƒ½åœ¨ç¬¬ä¸€æ¬¡è¯·æ±‚æ—¶ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚ å¦ä¸€ä¸ªå¾å…†æ˜¯ï¼Œåœ¨åˆå§‹é¡µé¢åŠ è½½å’Œä¸‹è½½å®¢æˆ·ç«¯è„šæœ¬ä¹‹é—´ï¼Œæ ·å¼ä¼šå‘ç”Ÿå˜åŒ–ã€‚

#### Action to Take

ç±»åå€¼ä¾èµ–äº [ç±»åç”Ÿæˆå™¨](/styles/advanced/#class-names) çš„æ¦‚å¿µã€‚ æ•´ä¸ªé¡µé¢éœ€è¦ç”¨ **ä¸€ä¸ªç±»åç”Ÿæˆå™¨** æ¥æ¸²æŸ“ã€‚ è¿™ä¸ªç”Ÿæˆå™¨éœ€è¦åœ¨æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¸Šçš„è¡Œä¸ºä¸€è‡´ã€‚ For instance:

- æ‚¨éœ€è¦ä¸ºæ¯ä¸ªè¯·æ±‚æä¾›ä¸€ä¸ªæ–°çš„ç±»åç”Ÿæˆå™¨ã€‚ ä½†æ˜¯æ‚¨ä¸åº”è¯¥åœ¨ä¸åŒçš„è¯·æ±‚ä¹‹é—´å…±äº« `createGenerateClassName()`ï¼š

  Example of fix:

  ```diff
  -  // åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»åç”Ÿæˆå™¨ã€‚
  -const generateClassName = createGenerateClassName();

  function handleRender(req, res) {
  + // åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»åç”Ÿæˆå™¨ã€‚
  + const generateClassName = createGenerateClassName();

    //â€¦

    // Render the component to a string.
    const html = ReactDOMServer.renderToString(
  ```

- You need to verify that your client and server are running the **exactly the same version** of MUI. å³ä½¿æ˜¯å°å°çš„ç‰ˆæœ¬çš„ä¸åŒ¹é…ä¹Ÿå¯èƒ½å¯¼è‡´æ ·å¼é—®é¢˜ã€‚ To check version numbers, run `npm list @mui/material` in the environment where you build your application and also in your deployment environment.

  æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡åœ¨ package.json çš„ä¾èµ–é¡¹ä¸­æŒ‡å®šæŸä¸€ä¸ªç‰¹å®šçš„ MUI ç‰ˆæœ¬ï¼Œè¿™æ ·èƒ½å¤Ÿç¡®ä¿åœ¨ä¸åŒç¯å¢ƒä¸­ä½¿ç”¨çš„ç‰ˆæœ¬æ˜¯ä¸€è‡´çš„ã€‚

  _ä¿®å¤ï¼ˆpackage.jsonï¼‰çš„ç¤ºä¾‹ï¼š_

  ```diff
    "dependencies": {
      ...
  -   "@mui/material": "^4.0.0",
  +   "@mui/material": "4.0.0",
      ...
    },
  ```

- è¯·ç¡®ä¿æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¹‹é—´æ‰€å…±äº«çš„æ˜¯ç›¸åŒçš„ `process.env.NODE_ENV` å€¼ã€‚

## ä¸ºä»€ä¹ˆæˆ‘çœ‹åˆ°çš„é¢œè‰²å’Œæ–‡æ¡£è¿™é‡Œçš„é¢œè‰²å¤§ç›¸å¾„åº­ï¼Ÿ

è¿™æ˜¯å› ä¸ºæ–‡æ¡£ç½‘ç«™ä½¿ç”¨äº†ä¸€ä¸ªè‡ªå®šä¹‰çš„ä¸»é¢˜ã€‚ Hence, the color palette is different from the default theme that MUI ships. è¯·å‚è€ƒ [è¿™ä¸ªé¡µé¢](/customization/theming/) æ¥äº†è§£è‡ªå®šä¹‰ä¸»é¢˜ã€‚

## ä¸ºä»€ä¹ˆç»„ä»¶ X éœ€è¦å±æ€§ä¸­çš„ DOM èŠ‚ç‚¹è€Œä¸æ˜¯ä¸€ä¸ª ref å¯¹è±¡ï¼Ÿ

åƒ [Portal](/api/portal/#props) æˆ– [Popper](/api/popper/#props) è¿™æ ·çš„ç»„ä»¶åˆ†åˆ«éœ€è¦ `container` æˆ– `anchorEl` å±æ€§ä¸­çš„ DOM èŠ‚ç‚¹ã€‚ It seems convenient to simply pass a ref object in those props and let MUI access the current value. è¿™åœ¨ä¸€ä¸ªç®€å•çš„æ–¹æ¡ˆä¸­å°±å¯ä»¥å®ç°ï¼š

```jsx
function App() {
  const container = React.useRef(null);

  return (
    <div className="App">
      <Portal container={container}>
        <span>ä¼ é€é—¨çš„å­ç»„ä»¶</span>
      </Portal>
      <div ref={container} />
    </div>
  );
}
```

å…¶ä¸­ï¼Œ`Portal` ä»…åœ¨ `container.current` å¯ç”¨æ—¶æ‰ä¼šå°†å…¶å­é¡¹æŒ‚è½½åˆ°å®¹å™¨ä¸­ã€‚ ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ Portal å®ç°ä¾‹å­ï¼š

```jsx
function Portal({ children, container }) {
  const [node, setNode] = React.useState(null);

  React.useEffect(() => {
    setNode(container.current);
  }, [container]);

  if (node === null) {
    return null;
  }
  return ReactDOM.createPortal(children, node);
}
```

è¿™ä¸ªç®€å•çš„æ–¹æ³•å¯èƒ½ä¼šå¯å‘æ‚¨ï¼Œ`Portal` å¯èƒ½ä¼šåœ¨æŒ‚è½½åé‡æ–°æ¸²æŸ“ï¼Œå› ä¸ºåœ¨ä»»ä½•æ•ˆæœè¿è¡Œä¹‹å‰ï¼Œrefs éƒ½æ˜¯æœ€æ–°çš„ã€‚ ç„¶è€Œï¼Œä»…ä»…å› ä¸º ref æ˜¯æœ€æ–°çš„å¹¶ä¸æ„å‘³ç€å®ƒä¼šæŒ‡å‘ä¸€ä¸ªå®šä¹‰å¥½çš„å®ä¾‹ã€‚ å¦‚æœ ref æ˜¯é™„ç€åœ¨ä¸€ä¸ª ref æ‰€è½¬å‘ç»„ä»¶ä¸Šçš„è¯ï¼Œé‚£ä¹ˆ DOM èŠ‚ç‚¹ä½•æ—¶å¯ç”¨æ˜¯ä¸æ˜ç¡®çš„ã€‚ åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œ`Portal` å°†äº§ç”Ÿä¸€æ¬¡æ•ˆæœï¼Œä½†å¯èƒ½ä¸ä¼šé‡æ–°æ¸²æŸ“ï¼Œå› ä¸º `ref.current` çš„å€¼ä»ç„¶æ˜¯ `null`ã€‚ è€Œ Suspense ä¸­çš„ React.lazy ç»„ä»¶ä¸­ï¼Œè¿™ä¸€ç‚¹å°¤ä¸ºæ˜æ˜¾ã€‚ ä¸Šè¿°å®ç°ä¹Ÿå¹¶ä¸èƒ½ä»£è¡¨ DOM èŠ‚ç‚¹çš„ä¸€ä¸ªå˜åŒ–ã€‚

ç»¼ä¸Šæ‰€è¿°ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ä¸€ä¸ªå…·æœ‰å®é™… DOM èŠ‚ç‚¹çš„å±æ€§ï¼Œè¿™æ · React å°±å¯ä»¥è´Ÿè´£ç¡®å®š `Portal` ä½•æ—¶åº”è¯¥é‡æ–°æ¸²æŸ“ã€‚

```jsx
function App() {
  const [container, setContainer] = React.useState(null);
  const handleRef = React.useCallback(
    (instance) => setContainer(instance),
    [setContainer],
  );

  return (
    <div className="App">
      <Portal container={container}>
        <span>Portaled</span>
      </Portal>
      <div ref={handleRef} />
    </div>
  );
}
```

## clsx ä¾èµ–æ˜¯ç”¨äºä»€ä¹ˆï¼Ÿ

[clsx](https://github.com/lukeed/clsx)æ˜¯ä¸€ä¸ªå°å‹å·¥å…·é›†ï¼Œç”¨äºæœ‰æ¡ä»¶åœ°ä»ä¸€ä¸ªå¯¹è±¡ä¸­æ„é€  `className` å­—ç¬¦ä¸²ï¼Œæ­¤å¯¹è±¡çš„é”®æ˜¯ç±»å­—ç¬¦ä¸²ï¼ˆclass stringsï¼‰ï¼Œè€Œå€¼æ˜¯å¸ƒå°”å€¼ï¼ˆbooleansï¼‰ã€‚

è¯·ä¸è¦è¿™æ ·å†™ï¼š

```jsx
// let disabled = false, selected = true;

return (
  <div
    className={`MuiButton-root ${disabled ? 'Mui-disabled' : ''} ${
      selected ? 'Mui-selected' : ''
    }`}
  />
);
```

æ‚¨å¯ä»¥è¿™æ ·åšï¼š

```jsx
import clsx from 'clsx';

return (
  <div
    className={clsx('MuiButton-root', {
      'Mui-disabled': disabled,
      'Mui-selected': selected,
    })}
  />
);
```

## I cannot use components as selectors in the styled() utility. What should I do?

If you are getting the error: `TypeError: Cannot convert a Symbol value to a string`, take a look at the [styled()](/system/styled/#how-to-use-components-selector-api) docs page for instructions on how you can fix this.
